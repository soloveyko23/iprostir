(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();function A(){if(location.hash)return location.hash.replace("#","")}function C(s){s=s?`#${s}`:window.location.href.split("#")[0],history.pushState("","",s)}let y=(s,e=500,t=0)=>{s.classList.contains("--slide")||(s.classList.add("--slide"),s.style.transitionProperty="height, margin, padding",s.style.transitionDuration=e+"ms",s.style.height=`${s.offsetHeight}px`,s.offsetHeight,s.style.overflow="hidden",s.style.height=t?`${t}px`:"0px",s.style.paddingTop=0,s.style.paddingBottom=0,s.style.marginTop=0,s.style.marginBottom=0,window.setTimeout(()=>{s.hidden=!t,t||s.style.removeProperty("height"),s.style.removeProperty("padding-top"),s.style.removeProperty("padding-bottom"),s.style.removeProperty("margin-top"),s.style.removeProperty("margin-bottom"),t||s.style.removeProperty("overflow"),s.style.removeProperty("transition-duration"),s.style.removeProperty("transition-property"),s.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:s}}))},e))},b=(s,e=500,t=0)=>{if(!s.classList.contains("--slide")){s.classList.add("--slide"),s.hidden=s.hidden?!1:null,t&&s.style.removeProperty("height");let o=s.offsetHeight;s.style.overflow="hidden",s.style.height=t?`${t}px`:"0px",s.style.paddingTop=0,s.style.paddingBottom=0,s.style.marginTop=0,s.style.marginBottom=0,s.offsetHeight,s.style.transitionProperty="height, margin, padding",s.style.transitionDuration=e+"ms",s.style.height=o+"px",s.style.removeProperty("padding-top"),s.style.removeProperty("padding-bottom"),s.style.removeProperty("margin-top"),s.style.removeProperty("margin-bottom"),window.setTimeout(()=>{s.style.removeProperty("height"),s.style.removeProperty("overflow"),s.style.removeProperty("transition-duration"),s.style.removeProperty("transition-property"),s.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:s}}))},e)}},_=(s,e=500)=>s.hidden?b(s,e):y(s,e),p=!0,v=(s=500)=>{if(p){const e=document.querySelectorAll("[data-lp]");setTimeout(()=>{e.forEach(t=>{t.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-scrolllock")},s),p=!1,setTimeout(function(){p=!0},s)}},E=(s=500)=>{if(p){const e=document.querySelectorAll("[data-lp]"),t=window.innerWidth-document.body.offsetWidth+"px";e.forEach(o=>{o.style.paddingRight=t}),document.body.style.paddingRight=t,document.documentElement.setAttribute("data-scrolllock",""),p=!1,setTimeout(function(){p=!0},s)}};function k(s,e){const t=Array.from(s).filter(n=>n.dataset[e]).map(n=>{const[a,r="FLS"]=n.dataset[e].split(",");return{value:a,type:r,item:n}});if(t.length===0)return[];const o=t.map(({value:n,type:a})=>`(${a}-width: ${n}px),${n},${a}`);return[...new Set(o)].map(n=>{const[a,r,l]=n.split(","),c=window.matchMedia(a);return{itemsArray:t.filter(u=>u.value===r&&u.type===l),matchMedia:c}})}const T=(s,e=!1,t=500,o=0)=>{const i=document.querySelector(s);if(i){let n="",a=0;if(e){n="header.header";const l=document.querySelector(n);l.classList.contains("--header-scroll")?a=l.offsetHeight:(l.style.cssText="transition-duration: 0s;",l.classList.add("--header-scroll"),a=l.offsetHeight,l.classList.remove("--header-scroll"),setTimeout(()=>{l.style.cssText=""},0))}document.documentElement.hasAttribute("data-menu-open")&&(v(),document.documentElement.removeAttribute("data-menu-open"));let r=i.getBoundingClientRect().top+scrollY;r=a?r-a:r,r=o?r-o:r,window.scrollTo({top:r,behavior:"smooth"})}};class O{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-popup-link",attributeCloseButton:"data-popup-close",fixElementSelector:"[data-lp]",attributeMain:"data-popup",youtubeAttribute:"data-popup-youtube",youtubePlaceAttribute:"data-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"data-popup-body",popupActive:"data-popup-active",bodyActive:"data-popup-open"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.buildPopup(),this.eventsPopup()}buildPopup(){}eventsPopup(){document.addEventListener("click",(function(e){const t=e.target.closest(`[${this.options.attributeOpenButton}]`);if(t){if(e.preventDefault(),this._dataValue=t.getAttribute(this.options.attributeOpenButton)?t.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null,this._dataValue!=="error"){this.isOpen||(this.lastFocusEl=t),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open();return}return}if(e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`[${this.options.classes.popupContent}]`)&&this.isOpen){e.preventDefault(),this.close();return}}).bind(this)),document.addEventListener("keydown",(function(e){if(this.options.closeEsc&&e.which==27&&e.code==="Escape"&&this.isOpen){e.preventDefault(),this.close();return}if(this.options.focusCatch&&e.which==9&&this.isOpen){this._focusCatch(e);return}}).bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",(function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}).bind(this)),window.addEventListener("load",(function(){window.location.hash&&this._openToHash()}).bind(this)))}open(e){if(p&&(this.bodyLock=!!(document.documentElement.hasAttribute("data-scrolllock")&&!this.isOpen),e&&typeof e=="string"&&e.trim()!==""&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(`[${this.options.attributeMain}=${this.targetOpen.selector}]`),this.targetOpen.element)){const t=this.youTubeCode||this.targetOpen.element.getAttribute(`${this.options.youtubeAttribute}`);if(t){const o=`https://www.youtube.com/embed/${t}?rel=0&showinfo=0&autoplay=1`,i=document.createElement("iframe"),n=this.options.setAutoplayYoutube?"autoplay;":"";i.setAttribute("allowfullscreen",""),i.setAttribute("allow",`${n}; encrypted-media`),i.setAttribute("src",o),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)||this.targetOpen.element.querySelector("[data-popup-content]").setAttribute(`${this.options.youtubePlaceAttribute}`,""),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(i)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.setAttribute(this.options.classes.popupActive,""),document.documentElement.setAttribute(this.options.classes.bodyActive,""),this._reopen?this._reopen=!1:this.bodyLock||E(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}}))}}close(e){e&&typeof e=="string"&&e.trim()!==""&&(this.previousOpen.selector=e),!(!this.isOpen||!p)&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&setTimeout(()=>{this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""},500),this.previousOpen.element.removeAttribute(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.removeAttribute(this.options.classes.bodyActive),this.bodyLock||v(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50))}_getHash(){this.options.hashSettings.location&&(this.hash=`#${this.targetOpen.selector}`)}_openToHash(){let e=window.location.hash.replace("#","");const t=document.querySelector(`[${this.options.attributeOpenButton}="${e}"]`);t&&(this.youTubeCode=t.getAttribute(this.options.youtubeAttribute)?t.getAttribute(this.options.youtubeAttribute):null),e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),o=Array.prototype.slice.call(t),i=o.indexOf(document.activeElement);e.shiftKey&&i===0&&(o[o.length-1].focus(),e.preventDefault()),!e.shiftKey&&i===o.length-1&&(o[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}}class P{constructor(){this.popup=document.querySelector('[data-popup="auth"]'),this.popup&&(this.tabs=this.popup.querySelectorAll("[data-tab]"),this.switchLink=this.popup.querySelector("[data-switch-to]"),this.forms=this.popup.querySelector(".auth-popup__forms"),this.loginForm=this.popup.querySelector('[data-form="login"]'),this.registerForm=this.popup.querySelector('[data-form="register"]'),this.passwordToggles=this.popup.querySelectorAll("[data-password-toggle]"),this.init())}init(){this.tabs.forEach(e=>{e.addEventListener("click",t=>this.switchTab(t.target.dataset.tab))}),this.switchLink&&this.switchLink.addEventListener("click",()=>this.switchTab("register")),this.passwordToggles.forEach(e=>{e.addEventListener("click",t=>this.togglePassword(t.target.closest("[data-password-toggle]")))}),this.initFormValidation()}switchTab(e){this.tabs.forEach(t=>{t.classList.toggle("auth-popup__tab--active",t.dataset.tab===e)}),e==="register"?(this.forms.classList.add("--show-register"),this.registerForm.style.display="block",this.loginForm.style.display="none"):(this.forms.classList.remove("--show-register"),this.loginForm.style.display="block",this.registerForm.style.display="none")}togglePassword(e){const t=e.parentElement.querySelector("input"),o=t.type==="password";t.type=o?"text":"password";const i=e.querySelector("svg path:last-child");i.style.display=o?"none":"block"}initFormValidation(){[this.loginForm,this.registerForm].forEach(t=>{if(!t)return;t.addEventListener("submit",i=>{i.preventDefault(),this.validateForm(t)}),t.querySelectorAll("[data-input]").forEach(i=>{i.addEventListener("blur",()=>this.validateInput(i)),i.addEventListener("input",()=>this.clearError(i))})})}validateForm(e){const t=e.querySelectorAll("[data-input]");let o=!0;t.forEach(i=>{this.validateInput(i)||(o=!1)}),o&&console.log("Form submitted:",new FormData(e))}validateInput(e){const t=e.value.trim(),o=e.type,i=e.name;let n=!0,a="";if(this.clearError(e),!t)a=e.dataset.error||"\u041F\u043E\u043B\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F",n=!1;else if(o==="email"&&!this.isValidEmail(t))a="\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B",n=!1;else if(o==="password"&&t.length<6)a="\u041F\u0430\u0440\u043E\u043B\u044C \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u043C\u0438\u043D\u0438\u043C\u0443\u043C 6 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432",n=!1;else if(i==="password_confirm"){const r=e.closest("form").querySelector('input[name="password"]');r&&t!==r.value&&(a="\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442",n=!1)}return n||this.showError(e,a),n}clearError(e){e.classList.remove("--form-error");const t=e.parentElement.querySelector(".auth-form__error");t&&t.remove()}showError(e,t){e.classList.add("--form-error");const o=document.createElement("div");o.className="auth-form__error",o.textContent=t,e.parentElement.appendChild(o)}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}}document.querySelector("[data-popup]")&&window.addEventListener("load",()=>{window.FLSPopup=new O({}),new P});function M(){function s(){document.documentElement.hasAttribute("data-menu-open")&&(v(0),document.documentElement.removeAttribute("data-menu-open"))}function e(){document.documentElement.hasAttribute("data-menu-open")||(E(0),document.documentElement.setAttribute("data-menu-open",""))}document.addEventListener("click",function(t){if(t.target.closest("[data-menu]")){document.documentElement.hasAttribute("data-menu-open")?s():e();return}if(document.documentElement.hasAttribute("data-menu-open")){const o=t.target.closest(".menu__body"),i=t.target.closest(".catalog-menu__toggle"),n=t.target.closest(".catalog-menu");!o&&!i&&!n&&s()}}),document.addEventListener("keydown",function(t){t.key==="Escape"&&document.documentElement.hasAttribute("data-menu-open")&&s()})}document.querySelector("[data-menu]")&&window.addEventListener("load",M);function q(){const s=document.querySelector("[data-cart]"),e=document.querySelector("[data-cart-trigger]"),t=document.querySelector("[data-cart-dropdown]");if(!s||!e||!t)return;window.matchMedia("(pointer: coarse)").matches?(e.addEventListener("click",i=>{i.preventDefault(),t.classList.toggle("active")}),document.addEventListener("click",i=>{s.contains(i.target)||t.classList.remove("active")})):(s.addEventListener("mouseenter",()=>{t.classList.add("active")}),s.addEventListener("mouseleave",()=>{t.classList.remove("active")}))}function x(){const s=document.querySelector(".button-catalog"),e=document.querySelector(".header__subcategories");if(!s)return;const t=document.querySelector(".page--home")!==null,o=()=>window.innerWidth<=991;let i=null;function n(){e&&(l(),e.classList.add("active"),document.body.classList.add("catalog-open"),document.dispatchEvent(new CustomEvent("catalog:open")))}function a(){e&&(e.classList.remove("active"),document.body.classList.remove("catalog-open"),document.dispatchEvent(new CustomEvent("catalog:close")))}function r(){l(),i=setTimeout(()=>{a()},600)}function l(){i&&(clearTimeout(i),i=null)}if(!o()&&(s.addEventListener("mouseenter",()=>{t||n()}),s.addEventListener("mouseleave",()=>{t||r()}),e)){e.addEventListener("mouseenter",()=>{l()});const c=e.querySelector(".catalog-menu");c&&(c.addEventListener("mouseenter",()=>{l()}),c.addEventListener("mouseleave",()=>{r()})),e.addEventListener("click",d=>{d.target===e&&(l(),a())})}s.addEventListener("click",c=>{c.preventDefault(),o()&&e&&(e.classList.contains("active")?a():n())}),e&&(document.addEventListener("click",c=>{if(!o())return;const d=c.target.closest(".catalog-menu"),u=c.target.closest(".button-catalog"),f=c.target.classList.contains("header__subcategories");(!d&&!u||f)&&e.classList.contains("active")&&a()}),document.addEventListener("keydown",c=>{c.key==="Escape"&&e.classList.contains("active")&&a()}))}document.addEventListener("DOMContentLoaded",()=>{x(),q()});function D(){const s=document.querySelector("[data-cart]"),e=document.querySelector("[data-cart-trigger]"),t=document.querySelector("[data-cart-dropdown]");if(!s||!e||!t)return;window.matchMedia("(pointer: coarse)").matches?(e.addEventListener("click",i=>{i.preventDefault(),t.classList.toggle("active")}),document.addEventListener("click",i=>{s.contains(i.target)||t.classList.remove("active")})):(s.addEventListener("mouseenter",()=>{t.classList.add("active")}),s.addEventListener("mouseleave",()=>{t.classList.remove("active")}))}function F(){const s=document.querySelector(".button-catalog");s&&s.addEventListener("click",e=>{e.preventDefault(),document.dispatchEvent(new CustomEvent("catalog:open")),console.log("Catalog button clicked")})}document.addEventListener("DOMContentLoaded",()=>{F(),D()});class B{constructor(e="max"){this.type=e,this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-dynamic]")],this.nodes.forEach(e=>{const o=e.dataset.dynamic.trim().split(","),i={};i.element=e,i.parent=e.parentNode,i.destinationParent=o[3]&&e.closest(o[3].trim())||document,o[3]&&o[3].trim();const n=o[0]?o[0].trim():null;if(n){const a=i.destinationParent.querySelector(n);a&&(i.destination=a)}i.breakpoint=o[1]?o[1].trim():"767.98",i.place=o[2]?o[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.objects.push(i)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:e})=>`(${this.type}-width: ${e/16}em),${e}`).filter((e,t,o)=>o.indexOf(e)===t),this.mediaQueries.forEach(e=>{const t=e.split(","),o=window.matchMedia(t[0]),i=t[1],n=this.objects.filter(({breakpoint:a})=>a===i);o.addEventListener("change",()=>{this.mediaHandler(o,n)}),this.mediaHandler(o,n)})}mediaHandler(e,t){e.matches?t.forEach(o=>{o.destination&&this.moveTo(o.place,o.element,o.destination)}):t.forEach(({parent:o,element:i,index:n})=>{i.classList.contains(this.daClassname)&&this.moveBack(o,i,n)})}moveTo(e,t,o){t.classList.add(this.daClassname);const i=e==="last"||e==="first"?e:parseInt(e,10);i==="last"||i>=o.children.length?o.append(t):i==="first"?o.prepend(t):o.children[i].before(t)}moveBack(e,t,o){t.classList.remove(this.daClassname),e.children[o]!==void 0?e.children[o].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){if(this.type==="min")e.sort((t,o)=>t.breakpoint===o.breakpoint?t.place===o.place?0:t.place==="first"||o.place==="last"?-1:t.place==="last"||o.place==="first"?1:0:t.breakpoint-o.breakpoint);else{e.sort((t,o)=>t.breakpoint===o.breakpoint?t.place===o.place?0:t.place==="first"||o.place==="last"?1:t.place==="last"||o.place==="first"?-1:0:o.breakpoint-t.breakpoint);return}}}document.querySelector("[data-dynamic]")&&window.addEventListener("load",()=>new B);class ${constructor(e){if(this.search=e,this.input=e.querySelector("[data-search-input]"),this.button=e.querySelector("[data-search-button]"),!this.input||!this.button){console.error("Search component: required elements not found");return}this.init()}init(){this.button.addEventListener("click",e=>{e.preventDefault(),this.performSearch()}),this.input.addEventListener("keydown",e=>{e.key==="Enter"&&(e.preventDefault(),this.performSearch())}),this.input.addEventListener("input",e=>{this.onInputChange(e.target.value)})}performSearch(){const e=this.input.value.trim();if(e.length===0){this.input.focus();return}document.dispatchEvent(new CustomEvent("search:perform",{detail:{query:e}})),console.log("Search query:",e)}onInputChange(e){document.dispatchEvent(new CustomEvent("search:change",{detail:{value:e}}))}setValue(e){this.input.value=e}getValue(){return this.input.value.trim()}clear(){this.input.value="",this.input.focus()}setPlaceholder(e){this.input.placeholder=e}}function L(){const s=document.querySelectorAll(".search");s.forEach(e=>{new $(e)}),console.log(`\u0418\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u043E ${s.length} \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u043E\u0432 \u043F\u043E\u0438\u0441\u043A\u0430`)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",L):L();let m={getErrors(s){let e=0,t=s.querySelectorAll("[required]");return t.length&&t.forEach(o=>{(o.offsetParent!==null||o.tagName==="SELECT")&&!o.disabled&&(e+=this.validateInput(o))}),e},validateInput(s){let e=0;return s.type==="email"?(s.value=s.value.replace(" ",""),this.emailTest(s)?(this.addError(s),this.removeSuccess(s),e++):(this.removeError(s),this.addSuccess(s))):s.type==="checkbox"&&!s.checked?(this.addError(s),this.removeSuccess(s),e++):s.value.trim()?(this.removeError(s),this.addSuccess(s)):(this.addError(s),this.removeSuccess(s),e++),e},addError(s){s.classList.add("--form-error"),s.parentElement.classList.add("--form-error");let e=s.parentElement.querySelector("[data-form-error]");e&&s.parentElement.removeChild(e),s.dataset.FLSFormErrtext&&s.parentElement.insertAdjacentHTML("beforeend",`<div data-form-error>${s.dataset.FLSFormErrtext}</div>`)},removeError(s){s.classList.remove("--form-error"),s.parentElement.classList.remove("--form-error"),s.parentElement.querySelector("[data-form-error]")&&s.parentElement.removeChild(s.parentElement.querySelector("[data-form-error]"))},addSuccess(s){s.classList.add("--form-success"),s.parentElement.classList.add("--form-success")},removeSuccess(s){s.classList.remove("--form-success"),s.parentElement.classList.remove("--form-success")},formClean(s){s.reset(),setTimeout(()=>{let e=s.querySelectorAll("input,textarea");for(let o=0;o<e.length;o++){const i=e[o];i.parentElement.classList.remove("--form-focus"),i.classList.remove("--form-focus"),m.removeError(i)}let t=s.querySelectorAll('input[type="checkbox"]');if(t.length&&t.forEach(o=>{o.checked=!1}),window.FLSSelect){let o=s.querySelectorAll("select[data-select]");o.length&&o.forEach(i=>{window.FLSSelect.selectBuild(i)})}},0)},emailTest(s){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(s.value)}};function H(){function s(){const t=document.forms;if(t.length)for(const n of t)n.hasAttribute("data-form-novalidate")||n.setAttribute("novalidate",!0),n.addEventListener("submit",function(a){const r=a.target;o(r,a)}),n.addEventListener("reset",function(a){const r=a.target;m.formClean(r)});async function o(n,a){if(m.getErrors(n)===0)if(n.dataset.FLSForm==="ajax"){a.preventDefault();const l=n.getAttribute("action")?n.getAttribute("action").trim():"#",c=n.getAttribute("method")?n.getAttribute("method").trim():"GET",d=new FormData(n);n.classList.add("--sending");const u=await fetch(l,{method:c,body:d});if(u.ok){let f=await u.json();n.classList.remove("--sending"),i(n,f)}else n.classList.remove("--sending")}else n.dataset.FLSForm==="dev"&&(a.preventDefault(),i(n));else if(a.preventDefault(),n.querySelector(".--form-error")&&n.hasAttribute("data-form-gotoerr")){const l=n.dataset.FLSFormGotoerr?n.dataset.FLSFormGotoerr:".--form-error";T(l)}}function i(n,a=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:n}})),setTimeout(()=>{if(window.FLSPopup){const r=n.dataset.FLSFormPopup;r&&window.FLSPopup.open(r)}},0),m.formClean(n)}}function e(){document.body.addEventListener("focusin",function(t){const o=t.target;(o.tagName==="INPUT"||o.tagName==="TEXTAREA")&&(o.hasAttribute("data-form-nofocus")||(o.classList.add("--form-focus"),o.parentElement.classList.add("--form-focus")),m.removeError(o),o.hasAttribute("data-form-validatenow")&&m.removeError(o))}),document.body.addEventListener("focusout",function(t){const o=t.target;(o.tagName==="INPUT"||o.tagName==="TEXTAREA")&&(o.hasAttribute("data-form-nofocus")||(o.classList.remove("--form-focus"),o.parentElement.classList.remove("--form-focus")),o.hasAttribute("data-form-validatenow")&&m.validateInput(o))})}s(),e()}document.querySelector("[data-form]")&&window.addEventListener("load",H);class N{constructor(e){this.menu=e,this.categories=e.querySelectorAll("[data-category]"),this.subcategoryPanels=e.querySelectorAll("[data-subcategory-panel]"),this.subcategoriesContainer=e.querySelector(".catalog-menu__subcategories"),this.backButton=e.querySelector(".catalog-menu__back-btn"),this.backToMenuButton=e.querySelector(".catalog-menu__back-to-menu-btn"),!(!this.categories.length||!this.subcategoryPanels.length)&&(this.activeCategory=null,this.closeTimer=null,this.init())}init(){this.isMobile=window.innerWidth<=991,this.isHomePage=document.querySelector(".page--home")!==null,this.categories.forEach(e=>{const t=e.querySelector(".catalog-menu__category-link"),o=e.getAttribute("data-category");this.isMobile?t.addEventListener("click",i=>{i.preventDefault(),this.setActiveCategory(o)}):e.addEventListener("mouseenter",()=>{this.cancelCloseTimer(),this.setActiveCategory(o)})}),this.isMobile||(this.menu.addEventListener("mouseleave",()=>{this.startCloseTimer()}),this.menu.addEventListener("mouseenter",()=>{this.cancelCloseTimer()})),this.initToggleButton(),this.initCatalogOpenListener(),this.backToMenuButton&&this.backToMenuButton.addEventListener("click",()=>{this.hideMenu()}),this.backButton&&this.backButton.addEventListener("click",()=>{if(this.isMobile){const e=this.menu.querySelector(".catalog-menu__categories");e&&(e.style.display="block"),this.subcategoriesContainer&&this.subcategoriesContainer.classList.remove("active"),this.hideAll()}}),window.addEventListener("resize",()=>{const e=this.isMobile;this.isMobile=window.innerWidth<=991,e&&!this.isMobile&&!this.isHomePage&&this.hideMenu()}),this.isHomePage?this.menu.classList.add("catalog-menu--home"):this.hideAll()}startCloseTimer(){this.cancelCloseTimer(),this.closeTimer=setTimeout(()=>{this.hideSubcategories()},300)}cancelCloseTimer(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)}setActiveCategory(e){if(this.categories.forEach(o=>{o.querySelector(".catalog-menu__category-link").classList.remove("active")}),this.menu.querySelector(`[data-category="${e}"]`).querySelector(".catalog-menu__category-link").classList.add("active"),this.activeCategory=e,this.isMobile){const o=this.menu.querySelector(".catalog-menu__categories");o&&(o.style.display="none"),this.subcategoriesContainer&&this.subcategoriesContainer.classList.add("active"),this.subcategoryPanels.forEach(n=>n.classList.remove("active"));const i=this.menu.querySelector(`[data-subcategory-panel="${e}"]`);i&&i.classList.add("active")}else{this.subcategoryPanels.forEach(i=>i.classList.remove("active"));const o=this.menu.querySelector(`[data-subcategory-panel="${e}"]`);o&&o.classList.add("active")}}initToggleButton(){document.querySelectorAll(".catalog-menu__toggle").forEach(t=>{t.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),this.toggleMenu()})}),document.addEventListener("click",t=>{if(!this.isMobile||!this.menu.classList.contains("active"))return;const o=t.target.closest(".catalog-menu__toggle"),i=t.target.closest(".catalog-menu"),n=t.target.closest("[data-menu]"),a=t.target.closest(".menu__body");!o&&!i&&!n&&!a&&this.hideMenu()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&this.isMobile&&this.menu.classList.contains("active")&&this.hideMenu()})}initCatalogOpenListener(){document.addEventListener("catalog:open",()=>{this.isHomePage||this.showMenu()}),document.addEventListener("catalog:close",()=>{this.isHomePage||this.hideMenu()})}toggleMenu(){this.menu.classList.contains("active")?this.hideMenu():this.showMenu()}showMenu(){if(this.menu.classList.add("active"),this.isMobile){const e=this.menu.querySelector(".catalog-menu__categories");e&&(e.style.display="block"),this.subcategoriesContainer&&this.subcategoriesContainer.classList.remove("active"),document.body.style.overflow="hidden"}}hideMenu(){if(this.menu.classList.remove("active"),this.hideAll(),this.cancelCloseTimer(),this.isMobile){const e=this.menu.querySelector(".catalog-menu__categories");e&&(e.style.display="block"),this.subcategoriesContainer&&this.subcategoriesContainer.classList.remove("active"),this.resetAnimations(),document.documentElement.hasAttribute("data-menu-open")||(document.body.style.overflow="")}}resetAnimations(){const e=this.menu.querySelectorAll(".catalog-menu__category-link"),t=this.menu.querySelectorAll(".catalog-menu__subcategory-link");[...e,...t].forEach(o=>{o.style.transitionDelay="",o.style.transform="",o.style.opacity=""})}hideAll(){this.categories.forEach(e=>{e.querySelector(".catalog-menu__category-link").classList.remove("active")}),this.subcategoryPanels.forEach(e=>{e.classList.remove("active")}),this.activeCategory=null}hideSubcategories(){this.categories.forEach(e=>{e.querySelector(".catalog-menu__category-link").classList.remove("active")}),this.subcategoryPanels.forEach(e=>{e.classList.remove("active")}),this.activeCategory=null}}function w(){document.querySelectorAll(".catalog-menu").forEach(e=>{new N(e)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",w):w();function V(){const s=document.querySelectorAll("img"),e=document.documentElement,t=localStorage.getItem(location.href)&&document.querySelector('[data-preloader="true"]');if(s.length&&!t){let i=function(h){r&&(r.innerText=`${h}%`),l&&(l.style.width=`${h}%`)},n=function(){c++,u=Math.round(100/s.length*c);const h=setInterval(()=>{d>=u?clearInterval(h):i(++d),d>=100&&o()},10)};document.body.insertAdjacentHTML("beforeend",`
			<div class="preloader">
				<div class="preloader__body">
					<div class="preloader__counter">0%</div>
					<div class="preloader__line"><span></span></div>
				</div>
			</div>`),document.querySelector(".preloader");const r=document.querySelector(".preloader__counter"),l=document.querySelector(".preloader__line span");let c=0,d=0,u=0;e.setAttribute("data-preloader-loading",""),e.setAttribute("data-scrolllock",""),s.forEach(h=>{const g=document.createElement("img");g&&(g.onload=n,g.onerror=n,h.dataset.src?g.src=h.dataset.src:g.src=h.src)}),i(u);const f=()=>localStorage.setItem(location.href,"preloaded");document.querySelector('[data-preloader="true"]')&&f()}else o();function o(){e.setAttribute("data-preloader-loaded",""),e.removeAttribute("data-preloader-loading"),e.removeAttribute("data-scrolllock")}}document.addEventListener("DOMContentLoaded",V),(function(){const s=document.querySelector(".page-controls"),e=document.querySelector(".button-to-top");if(!s||!e){console.error("\u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u0435 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B");return}const t=100;let o=!1;function i(){o||(o=!0,requestAnimationFrame(()=>{(window.pageYOffset||document.documentElement.scrollTop)>t?s.classList.add("visible"):s.classList.remove("visible"),o=!1}))}function n(a){a.preventDefault(),(window.pageYOffset||document.documentElement.scrollTop)!==0&&window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",i,{passive:!0}),e.addEventListener("click",n),i(),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",i),e.removeEventListener("click",n)})})();class j{constructor(e){e&&(this.dropdown=e,this.toggle=e.querySelector("[data-dropdown-toggle]"),this.menu=e.querySelector("[data-dropdown-menu]"),!(!this.toggle||!this.menu)&&(this.items=Array.from(this.menu.children).filter(t=>t.hasAttribute("data-value")),this.items.length!==0&&(this.isOpen=!1,this.selectedValue=null,this.placeholderText=this.toggle.textContent.trim(),this.init(),this.dropdown._dropdownInstance=this)))}init(){this.toggle.addEventListener("click",e=>{e.stopPropagation(),this.toggleMenu()}),this.items.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation(),this.selectItem(e)})}),document.addEventListener("click",e=>{this.dropdown.contains(e.target)||this.close()}),this.dropdown.addEventListener("dropdown:opening",()=>{document.querySelectorAll("[data-dropdown]").forEach(e=>{if(e!==this.dropdown){const t=e._dropdownInstance;t&&t.isOpen&&t.close()}})})}toggleMenu(){this.isOpen?this.close():this.open()}open(){this.dropdown.dispatchEvent(new Event("dropdown:opening")),this.isOpen=!0,this.toggle.classList.add("active"),this.menu.classList.add("show")}close(){this.isOpen=!1,this.toggle.classList.remove("active"),this.menu.classList.remove("show")}selectItem(e){if(!e)return;this.items.forEach(i=>i.classList.remove("selected")),e.classList.add("selected"),this.selectedValue=e.dataset.value;const t=e.textContent.trim(),o=this.toggle.querySelector(".dropdown-text");if(o)o.textContent=t;else{const i=Array.from(this.toggle.childNodes).find(n=>n.nodeType===Node.TEXT_NODE);i?i.textContent=t:this.toggle.insertBefore(document.createTextNode(t),this.toggle.firstChild)}this.close(),this.dropdown.dispatchEvent(new CustomEvent("dropdown:change",{detail:{value:this.selectedValue,text:t,dropdown:this.dropdown}}))}}function S(){const s=document.querySelectorAll("[data-dropdown]");s.length&&s.forEach(e=>new j(e))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",S):S(),document.addEventListener("keydown",s=>{s.key==="Escape"&&document.querySelectorAll("[data-dropdown]").forEach(e=>{const t=e._dropdownInstance;t&&t.isOpen&&t.close()})});export{C as a,y as b,_ as c,k as d,m as f,A as g,b as s};
