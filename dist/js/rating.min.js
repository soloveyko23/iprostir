function formRating(){const l=document.querySelectorAll("[data-rating]");l&&l.forEach(t=>{const e=+t.dataset.ratingValue,n=+t.dataset.ratingSize?+t.dataset.ratingSize:5;u(t,n),e&&o(t,e),document.addEventListener("click",c)});function c(t){const e=t.target;if(e.closest(".rating__input")){const n=e.closest(".rating__input"),a=+n.value,i=n.closest(".rating");i.dataset.rating==="set"&&d(i,a)}}function u(t,e){let n="";for(let a=0;a<e;a++)a===0&&(n+='<div class="rating__items">'),n+=`
				<label class="rating__item">
					<input class="rating__input" type="radio" name="rating" value="${a+1}">
				</label>`,a===e&&(n+='</div">');t.insertAdjacentHTML("beforeend",n)}function d(t,e){o(t,e)}function o(t,e){const n=t.querySelectorAll(".rating__item"),a=parseInt(e),i=e-a;t.hasAttribute("data-rating-title")&&(t.title=e),n.forEach((s,r)=>{s.classList.remove("rating__item--active"),s.querySelector("span")&&n[r].querySelector("span").remove(),r<=a-1&&s.classList.add("rating__item--active"),r===a&&i&&s.insertAdjacentHTML("beforeend",`<span style="width:${i*100}%"></span>`)})}}document.querySelector("[data-rating]")&&window.addEventListener("load",formRating);
